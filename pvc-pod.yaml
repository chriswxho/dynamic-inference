apiVersion: v1
kind: Pod
metadata:
  name: pvc-pod
spec:
  containers:
  - name: pvc-container
    image: ubuntu
    args: ["sleep", "36500000"] 
    volumeMounts:
    - mountPath: /christh9-pvc
      name: christh9-pvc
    - name: ssh-key
      mountPath: /secrets
  restartPolicy: Never
  volumes:
    - name: ssh-key
      secret:
        secretName: cho-ssh-key
        defaultMode: 0400
    - name: christh9-pvc
      persistentVolumeClaim:
        claimName: christh9-pvc
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: topology.kubernetes.io/region
            operator: In
            values:
            - us-west
